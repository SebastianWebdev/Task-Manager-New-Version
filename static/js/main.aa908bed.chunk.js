(window["webpackJsonptask-app"]=window["webpackJsonptask-app"]||[]).push([[0],{43:function(e,t,a){e.exports=a(89)},48:function(e,t,a){},49:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),o=(a(48),a(49),a(1)),l=a.n(o),i=a(5),u=a(2),m=a(4),d=a(37),p=a.n(d).a.create({baseURL:"https://sebastian-webdev-task-app.herokuapp.com"}),g=function(){var e=Object(i.a)(l.a.mark(function e(t){var a,n,r,s,c,o,i,u=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=u.length>1&&void 0!==u[1]?u[1]:null)){e.next=12;break}return e.next=4,p.post("/users/login",a);case 4:return n=e.sent,e.next=7,p.get("/tasks",{headers:{Authorization:"Bearer ".concat(n.data.token)}});case 7:return r=e.sent,e.next=10,p.get("/lists",{headers:{Authorization:"Bearer ".concat(n.data.token)}});case 10:return s=e.sent,e.abrupt("return",{user:n.data.user,tasks:r.data,tasksLists:s.data,token:n.data.token,status:n.status});case 12:if(!t){e.next=25;break}return e.next=15,p.get("users/me",{headers:{Authorization:"Bearer ".concat(t)}});case 15:return c=e.sent,e.next=18,p.get("/tasks",{headers:{Authorization:"Bearer ".concat(t)}});case 18:return o=e.sent,e.next=21,p.get("/lists",{headers:{Authorization:"Bearer ".concat(t)}});case 21:return i=e.sent,e.abrupt("return",{user:c.data,tasks:o.data,tasksLists:i.data,status:c.status});case 25:throw new Error("You must past a token to this function getDataFromApi or past loginData to get Token from API");case 26:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=(a(72),function(e){return r.a.createElement("main",{className:"welcome-page"},r.a.createElement("section",{className:"intro"},r.a.createElement("h2",{className:"section-tittle"},"Poznaj Task Manager"),r.a.createElement("p",{className:"section-describe"}," Task Manager to aplikacj\u0105 s\u0142u\u017c\u0105ca do tworzenia list zada\u0144. Jest to projekt zrealizowany za pomoc\u0105 Node.js, MongoDB oraz React w ramach nauki tych technologii. Nie jest to komercyjna aplikacja, lecz na potrzeby prezentacji, mo\u017cesz utworzy\u0107 konto u\u017cytkownika i tworzy\u0107 swoje w\u0142asne listy zada\u0144.")),r.a.createElement("section",{className:"technology"},r.a.createElement("h2",{className:"section-tittle"},"U\u017cyte technologie"),r.a.createElement("div",{className:"tech-wrap"},r.a.createElement("div",{className:"tech-card"}," ",r.a.createElement("h2",{className:"card-tittle"},"MongoDB"),r.a.createElement("p",{className:"card-desc"},"Aplikacja u\u017cywa nierelacyjnej bazy danych MongoDB, gdzie przechowywane s\u0105 zadania, listy zada\u0144 oraz u\u017cytkownicy. Pracuj\u0105c z baz\u0105 danych wykorzystywa\u0142em ",r.a.createElement("a",{href:"https://mongoosejs.com/"},"Mongoose"),". Baza danych zosta\u0142a postawiona na ",r.a.createElement("a",{href:"https://www.mongodb.com/cloud/atlas"},"MongoDB Atlas")),r.a.createElement("div",{className:"card-icon-wrap"},r.a.createElement("i",{className:"fas fa-database"}))),r.a.createElement("div",{className:"tech-card"},r.a.createElement("h2",{className:"card-tittle"},"React"),r.a.createElement("p",{className:"card-desc"},"Ca\u0142y front Aplikacji powsta\u0142 przy u\u017cyciu biblioteki React.js. Front zosta\u0142 stworzony jako Single Page Application."),r.a.createElement("div",{className:"card-icon-wrap"},r.a.createElement("i",{className:"fab fa-react"}))),r.a.createElement("div",{className:"tech-card"},r.a.createElement("h2",{className:"card-tittle"},"Node.js"),r.a.createElement("p",{className:"card-desc"},"Strona backendowa stworzona zosta\u0142a przy u\u017cyciu Node.js oraz frameworku ",r.a.createElement("a",{href:"http://expressjs.com/"},"express"),", pozwoli\u0142o mi to na utworzenie REST API. Serwer zosta\u0142 umieszczony na platformie ",r.a.createElement("a",{href:"https://www.heroku.com/"},"Heroku")," Link do kodu na ",r.a.createElement("a",{href:"https://github.com/SebastianWebdev/node.js-Task-app"},"Github")),r.a.createElement("div",{className:"card-icon-wrap"},r.a.createElement("i",{className:"fab fa-node-js"}))))))}),E=(a(73),a(6)),v=function(e){switch(e.location){case"register":return r.a.createElement("nav",{className:" nav nav1"},r.a.createElement(E.c,{to:"/"},r.a.createElement("div",{className:"logo-wrap"}," ",r.a.createElement("h1",{className:"logo"},"Logo"))),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"btn"},r.a.createElement(E.c,{to:"login"}," Login "))));case"login":return r.a.createElement("nav",{className:" nav nav1"},r.a.createElement(E.c,{to:"/"},r.a.createElement("div",{className:"logo-wrap"}," ",r.a.createElement("h1",{className:"logo"},"Logo"))),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"btn"},r.a.createElement(E.c,{to:"register"}," Register "))));default:return r.a.createElement("nav",{className:" nav nav1"},r.a.createElement(E.c,{to:"/"},r.a.createElement("div",{className:"logo-wrap"}," ",r.a.createElement("h1",{className:"logo"},"Logo"))),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"btn"},r.a.createElement(E.c,{to:"register"}," Register ")),r.a.createElement("div",{className:"btn"},r.a.createElement(E.c,{to:"login"}," Login "))))}},b=(a(75),function(e){return r.a.createElement("div",{className:"loading_small--bg"},r.a.createElement("div",{className:"loading_bars--wrapper"},r.a.createElement("div",{className:"loading_bar"},r.a.createElement("div",{className:"loading_bar--end"}),r.a.createElement("div",{className:"loading_bar--end"})),r.a.createElement("div",{className:"loading_bar"},r.a.createElement("div",{className:"loading_bar--end"}),r.a.createElement("div",{className:"loading_bar--end"})),r.a.createElement("div",{className:"loading_bar"},r.a.createElement("div",{className:"loading_bar--end"}),r.a.createElement("div",{className:"loading_bar--end"})),r.a.createElement("div",{className:"loading_bar"},r.a.createElement("div",{className:"loading_bar--end"}),r.a.createElement("div",{className:"loading_bar--end"}))))}),h=Object(m.b)(function(e){return{isLoginOk:e.loginData.isLoginOK}},{login:function(e){return function(){var t=Object(i.a)(l.a.mark(function t(a){var n,r,s,c,o,i,u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g("",e.loginData);case 3:n=t.sent,r=n.user,s=n.tasks,c=n.tasksLists,o=n.status,i=n.token,u=200===o,e.rememberMe?localStorage.setItem("token",i):sessionStorage.setItem("token",i),e.rememberMe?localStorage.setItem("userId",r._id):localStorage.setItem("userId","null"),a({type:"USER_LOGIN",payload:{user:r,lists:c,tasks:s,isLoginOK:u,isLogged:!0}}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a({type:"USER_LOGIN",payload:{user:null,isLoginOK:!1,isLogged:!1}});case 18:case"end":return t.stop()}},t,null,[[0,15]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.isLoginOk,a=Object(n.useState)(""),s=Object(u.a)(a,2),c=s[0],o=s[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),p=d[0],g=d[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),v=E[0],h=E[1],k=Object(n.useState)(!1),y=Object(u.a)(k,2),w=y[0],_=y[1],j=function(){var t=Object(i.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),_(!0),t.next=4,e.login({loginData:{email:p,password:c},rememberMe:v});case 4:_(!1),g(""),o(""),h(!1);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,w?r.a.createElement(b,null):null,r.a.createElement("div",{className:"reg-log-wrapper"},r.a.createElement("h1",null,"Zaloguj si\u0119 do konta"),!1===t?r.a.createElement("h2",{className:"login-alert"},"Z\u0142y login lub has\u0142o"):null,r.a.createElement("form",{className:"log-form",id:"login",onSubmit:j},r.a.createElement("label",{htmlFor:"reg-mail"},"Email"),r.a.createElement("input",{onChange:function(e){g(e.target.value)},name:"email",value:p,id:"reg-mail",placeholder:"Podaj email",type:"email"}),r.a.createElement("label",{htmlFor:"reg-pass"},"Has\u0142o"),r.a.createElement("input",{onChange:function(e){o(e.target.value)},name:"pass",value:c,id:"reg-pass",placeholder:"has\u0142o",type:"password"}),r.a.createElement("label",{htmlFor:"rememberMe"},"Zapami\u0119taj mnie"),r.a.createElement("input",{onChange:function(e){h(e.target.checked)},type:"checkbox",id:"rememberMe",name:"rememberMe"}),r.a.createElement("button",{type:"submit",className:"reg-sub"},"Zaloguj si\u0119"))))}),k=(a(76),function(e){return r.a.createElement(h,null)}),y=(a(77),a(39)),w=a.n(y),_=function(e,t,a){return w()(a)&&""!==t&&""!==e},j=Object(m.b)(function(e){if("ok"!==e.registrationStatus.registrationStatus)return{registrationStatus:e.registrationStatus.registrationStatus}},{register:function(e){return function(){var t=Object(i.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.post("/users",e);case 3:a({type:"USER_REGISTER",payload:{registrationStatus:"ok"}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"USER_REGISTER",payload:{registrationStatus:"error"}});case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)(""),m=Object(u.a)(o,2),d=m[0],p=m[1],g=Object(n.useState)(""),f=Object(u.a)(g,2),E=f[0],v=f[1],h=Object(n.useState)(!0),k=Object(u.a)(h,2),y=k[0],w=k[1],j=Object(n.useState)(null),N=Object(u.a)(j,2),S=N[0],O=N[1],D=function(){var t=Object(i.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!_(s,d,E)){t.next=10;break}return w(!0),O(!0),t.next=7,e.register({name:s,email:E,password:d});case 7:O(!1),t.next=14;break;case 10:w(!1),c(""),p(""),v("");case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,S?r.a.createElement(b,null):null,r.a.createElement("div",{className:"reg-log-wrapper"},r.a.createElement("h1",null,"Stw\xf3rz Konto"),y&&"error"!==e.registrationStatus?null:r.a.createElement("h2",{className:"login-alert"},"Z\u0142e dane przy rejestracji"),r.a.createElement("form",{className:"log-form",id:"reg",onSubmit:D},r.a.createElement("label",{htmlFor:"reg-name"},"Nazwa"),r.a.createElement("input",{onChange:function(e){c(e.target.value)},name:"name",value:s,id:"reg-name",placeholder:"Podaj swoje imi\u0119 i nazwisko",type:"text"}),r.a.createElement("label",{htmlFor:"reg-mail"},"Email"),r.a.createElement("input",{onChange:function(e){v(e.target.value)},name:"email",value:E,id:"reg-mail",placeholder:"Podaj email",type:"email"}),r.a.createElement("label",{htmlFor:"reg-pass"},"Has\u0142o"),r.a.createElement("input",{onChange:function(e){p(e.target.value)},name:"pass",value:d,id:"reg-pass",placeholder:"has\u0142o",type:"password"}),r.a.createElement("button",{type:"submit",className:"reg-sub"},"Stw\xf3rz nowe konto"))))}),N=function(e){return r.a.createElement("div",{className:"reg-log-wrapper"},r.a.createElement("h1",null,"Konto zosta\u0142o zarejestrowane"),r.a.createElement(E.b,{to:"/login",className:"postreg-link"},"Mo\u017cesz si\u0119 zalogowa\u0107"))},S=Object(m.b)(function(e){return{registrationStatus:e.registrationStatus.registrationStatus}})(function(e){var t=e.registrationStatus;return r.a.createElement(r.a.Fragment,null,"waiting"===t||"error"===t?r.a.createElement(j,{props:e}):r.a.createElement(N,null))}),O=a(14),D=function(e){return r.a.createElement(E.a,{basename:"/Task-Manager-New-Version"},r.a.createElement(v,{location:""}),r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/login",render:function(e){return r.a.createElement(k,e)}}),r.a.createElement(O.a,{path:"/register",render:function(e){return r.a.createElement(S,e)}}),r.a.createElement(O.a,{path:"/",render:function(e){return r.a.createElement(f,e)}})))},z=(a(81),function(e){return r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2019 Sebastian Go\u0142\u0119biowski"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/SebastianWebdev"},r.a.createElement("i",{className:"fab fa-github"}))))}),T=(a(82),a(83),Object(m.b)(function(e){return{userName:e.loginData.user.name}})(function(e){var t=e.userName;return r.a.createElement("div",{className:"main__content-wrapper main__init-wrapper"},r.a.createElement("p",null,"Witaj ",t))})),I=(a(84),function(){var e=Object(i.a)(l.a.mark(function e(t){var a,n,r,s,c,o,i,u,m,d;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token")?localStorage.getItem("token"):sessionStorage.getItem("token"),n=t.id,r=t.body,s=t.type,c={Authorization:"Bearer ".concat(a)},"patch"===s)try{p.patch("/tasks/".concat(n),r,{headers:c})}catch(l){console.log(l,"co\u015b posz\u0142o nie tak z wys\u0142aniem zmian na server przy tasku")}if("delete"===s)try{p.delete("/tasks/".concat(n),{headers:c})}catch(l){console.log(l,"Deleting task ID:".concat(n," went wrong"))}if("add"!==s){e.next=17;break}return o=r.name,i=r.description,u=r.list,m=r.temp_Id,e.prev=7,e.next=10,p.post("/tasks/",{name:o,description:i,list_id:u,temp_Id:m},{headers:c});case 10:return d=e.sent,e.abrupt("return",d.data);case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0,"Adding task faild");case 17:case"end":return e.stop()}},e,null,[[7,14]])}));return function(t){return e.apply(this,arguments)}}()),L=Object(m.b)(function(e){return{}},{updateTask:function(e){return{type:"UPDATE_TASK",payload:{name:e.taskName,description:e.description,index:e.index}}}})(function(e){var t=e.task,a=e.updateTask,s=e.index,c=e.handleDelete,o=new Date(t.createdAt),l=Object(n.useState)(t.name),i=Object(u.a)(l,2),m=i[0],d=i[1],p=Object(n.useState)(t.description),g=Object(u.a)(p,2),f=g[0],E=(g[1],Object(n.useState)(!1)),v=Object(u.a)(E,2),b=v[0],h=v[1],k={year:o.getFullYear(),month:o.getMonth(),day:o.getDate(),houer:o.getHours(),minuts:o.getMinutes()},y=r.a.createRef();return r.a.createElement("li",{ref:y,className:"task--wrapp"},r.a.createElement("div",{className:"my-handle"},r.a.createElement("i",{class:"fas fa-grip-vertical"})),r.a.createElement("div",{className:"task__head"},r.a.createElement("input",{onChange:function(e){d(e.target.value),h(!0)},value:m,type:"text",className:"task-name"})),r.a.createElement("div",{className:"task__body"},r.a.createElement("p",{className:"task-date"}," Data utworzenia:",r.a.createElement("br",null),k.year," ",k.month<10?"-0".concat(k.month):k.month," ",k.day<10?"-0".concat(k.day):k.day),r.a.createElement("form",{action:""},r.a.createElement("select",{onChange:function(t){var a=1*t.target.value;e.handleStage(a,s)},className:"app__select",name:"task__moveTo",id:""},r.a.createElement("option",{value:""},"Przenie\u015b do:"),r.a.createElement("option",{value:"1"},"Do zrobienia"),r.a.createElement("option",{value:"2"},"W trakcie "),r.a.createElement("option",{value:"3"},"Zrobione")))),r.a.createElement("div",{className:"task__icons"},r.a.createElement("i",{onClick:function(e){c(s,t._id),I({id:t._id,type:"delete"})},className:"fas fa-trash-alt"}),r.a.createElement("i",{className:"fas fa-sort-down"})),b?r.a.createElement("button",{onClick:function(e){h(!1),a({taskName:m,description:f,index:s}),I({body:{name:m,description:f},id:t._id,type:"patch"})},className:"task__btn--save"},"Zapisz"):null)}),x=a(21),A=a(42),R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];console.log(e);var n=Object(A.a)(t),r=1===a.filter(function(t){return t.sortType===e}).length?a.filter(function(t){return t.sortType===e})[0].callback:void 0;return r&&n.sort(r),n},C=Object(m.b)(function(e){return{loginData:e.loginData}},{updateTaskStage:function(e){return{type:"UPDATE_TASK_STAGE",payload:{i:e.index,stage:e.stage}}},deleteTask:function(e){return{type:"DELETE_TASK",payload:{i:e.index,id:e.id,isDeleted:!0}}}})(function(e){var t=r.a.createRef(),a=e.loginData,s=e.activeStage,c=e.activeList,o=e.updateTaskStage,l=e.deleteTask,i=e.sortBy,u=a.tasks,m=function(e,t){o({index:t,stage:e})},d=function(e,t){l({index:e,id:t})},p=u.map(function(e,t){return r.a.createElement(L,{handleDelete:d,handleStage:m,key:e.temp_Id,task:e,index:t})}).filter(function(e){return c._id===e.props.task.list||c.temp_Id===e.props.task.list});Object(n.useEffect)(function(){x.a.create(t.current,{ghostClass:"sortable-ghost",handle:".my-handle",dragClass:"sortable-drag",animation:150,swapThreshold:1,invertSwap:!0})},[]);var g=p.filter(function(e){return e.props.task.stage===1*s}),f=function(e,t){var a=Date.parse(e.props.task.createdAt);return Date.parse(t.props.task.createdAt)-a},E=R(i,g,[{sortType:1,callback:f},{sortType:2,callback:function(e,t){return Date.parse(e.props.task.createdAt)-Date.parse(t.props.task.createdAt)}},{sortType:3,callback:function(e,t){var a=e.props.task.name<t.props.task.name,n=e.props.task.name>t.props.task.name,r=e.props.task.name===t.props.task.name;return a?-1:n?1:r?0:void 0}},{sortType:4,callback:function(e,t){var a=e.props.task.name<t.props.task.name,n=e.props.task.name>t.props.task.name,r=e.props.task.name===t.props.task.name;return a?1:n?-1:r?0:void 0}},{sortType:"default",callback:f}]);return r.a.createElement("ul",{ref:t,className:"tasks__view"},E)}),B=(a(85),function(e,t,a,n){var r=(new Date).toISOString(),s=(new Date).getTime();return n||(n=localStorage.getItem("userId")?localStorage.getItem("userId"):sessionStorage.getItem("userId")),{completed:!1,owner:n,description:t,name:e,stage:1,list:a,createdAt:r,updatedAt:r,_id:"",temp_Id:s}}),M=Object(m.b)(function(e){return{data:e.loginData}},{addTask:function(e){return{type:"ADD_TASK",payload:{task:e.task}}}})(function(e){var t=e.activeList,a=(e.data,e.addTask),s=e.close;Object(n.useEffect)(function(){console.log(document.getElementById("body"))},[]);var c=Object(n.useState)(""),o=Object(u.a)(c,2),m=o[0],d=o[1],p=Object(n.useState)(""),g=Object(u.a)(p,2),f=g[0],E=g[1],v=function(){var e=Object(i.a)(l.a.mark(function e(n){var r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),m){e.next=5;break}alert("Task has to have name"),e.next=13;break;case 5:return r=B(m,f,t),d(""),E(""),e.next=10,I({body:r,type:"add"});case 10:c=e.sent,a({task:c}),s(!1);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"portal-wrapp sortable-drag--createTask"},r.a.createElement("h1",null,"Create New Task"),r.a.createElement("form",{onSubmit:v,className:"create-task_form",action:""},r.a.createElement("label",{htmlFor:"create-task-name"},"Task Name"),r.a.createElement("input",{onChange:function(e){d(e.target.value)},value:m,type:"text",id:"create-task-name"}),r.a.createElement("label",{htmlFor:"create-task-description"},"Task Description"),r.a.createElement("input",{onChange:function(e){E(e.target.value)},value:f,type:"text",id:"create-task-description"}),r.a.createElement("input",{type:"submit"})))}),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.filter(function(t){return e===t._id}),r=t.filter(function(e){return a===e.temp_id});return n.length?n[0]:!!r.length&&r[0]},F=P;console.log(P("55ffrrtt44",[{temp_id:1256},{id:"lala"}],1256),"testFindLists");var U=document.getElementById("create-task-root"),K=function(e){var t=e.children;return c.a.createPortal(t,U)},Z=(a(86),function(e){var t=e.option,a=e.handle,n=e.activeOption,s=e.styles,c=s||{backgroundColor:"blue",cursor:"pointer"};return r.a.createElement("li",{style:n===t.id?c:null,className:"dropDown__item",onClick:function(e){a(t.id,t.tittle)}},r.a.createElement("p",{className:"dropDown__item__title"},t.tittle))}),G=function(e){var t=e.options,a=e.callback,s=e.defaultOption,c=e.activeOptionStyles,o=Object(n.useState)("default"),l=Object(u.a)(o,2),i=l[0],m=l[1],d=Object(n.useState)(s.tittle?s.tittle:t[0].tittle),p=Object(u.a)(d,2),g=p[0],f=p[1],E=Object(n.useState)(!1),v=Object(u.a)(E,2),b=v[0],h=v[1],k=function(e,t){m(e),f(t),h(!1)};Object(n.useEffect)(function(){a(i)},[i]);var y=t.map(function(e){return r.a.createElement(Z,{styles:c,activeOption:i,key:e.id,option:e,handle:k})});s&&y.splice(0,0,r.a.createElement(Z,{styles:c,activeOption:i,key:s.id,option:s,handle:k}));return r.a.createElement("div",{className:"drop-down-menu"},r.a.createElement("div",{onClick:function(e){h(!b)},className:"dropDown__init-window"},r.a.createElement("p",{className:"drop-down-menu__name"},g),r.a.createElement("i",{style:b?{color:"#1d75a8"}:null,className:"fas fa-sort-down"})),r.a.createElement("ul",{style:b?{transform:"scaleY(1)"}:{transform:"scaleY(0)"},className:"drop-down-menu__list"},y))},W=Object(m.b)(function(e){return{activListId:e.activeList._id,tasksLists:e.loginData.lists,listTempId:e.activeList.temp_id}})(function(e){var t=Object(n.useState)(1),a=Object(u.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)(!1),l=Object(u.a)(o,2),i=l[0],m=l[1],d=Object(n.useState)("default"),p=Object(u.a)(d,2),g=p[0],f=p[1],E=e.tasksLists,v=e.activListId,b=e.listTempId,h=F(v,E,b);return r.a.createElement("div",{className:"main__content-wrapper main__content--list "},r.a.createElement("nav",{className:"main__active-list--info"},r.a.createElement("h1",null,h.tittle),r.a.createElement("form",{className:"listView__form--stages",action:""},r.a.createElement("label",{htmlFor:"stagesSelect"},"Stages"),r.a.createElement("select",{className:"app__select",onChange:function(e){c(e.target.value)},name:"stages",id:"stagesSelect"},r.a.createElement("option",{value:"1"},"Do Zrobienia"),r.a.createElement("option",{value:"2"},"W trakcie"),r.a.createElement("option",{value:"3"},"Zrobione"))),v?r.a.createElement("button",{onClick:function(e){v&&m(!0)},className:"add_btn add_btn--task"},"Add Task"):null,r.a.createElement(G,{options:[{tittle:"Od najnowszych",id:1},{tittle:"Od najstarszych",id:2},{tittle:"A-Z",id:3},{tittle:"Z-A",id:4}],name:"to jest lista rozwijana",callback:function(e){f(e)},defaultOption:{tittle:"Sortowanie domy\u015blne",id:"default"},activeOptionStyles:{backgroundColor:"red"}})),h?r.a.createElement(C,{sortBy:g,activeList:h,activeStage:s}):r.a.createElement("p",null,"Wybierz jak\u0105\u015b list\u0119 zada\u0144"),i?r.a.createElement(K,null,r.a.createElement(M,{close:m,activeList:v})):null)}),V=function(e){return r.a.createElement("div",null,"User View")},H=function(e){return r.a.createElement("section",{className:"main__window"},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/list",render:function(e){return r.a.createElement(W,e)}}),r.a.createElement(O.a,{path:"/user",render:function(e){return r.a.createElement(V,e)}}),r.a.createElement(O.a,{path:"/",render:function(e){return r.a.createElement(T,e)}})))},Y=(a(87),Object(m.b)(function(e){return{activeList:e.activeList}},{setActiveList:function(e){return{type:"SET_ACTIVE_LIST",payload:{_id:e._id,temp_id:e.temp_id}}}})(function(e){var t=e.tittle,a=e.setActiveList,n=e.listId,s=e.temp_id,c=e.handleRemove;return r.a.createElement(E.c,{to:"list"},r.a.createElement("div",{className:"listItem-wrap"},r.a.createElement("div",{onClick:function(e){a({_id:n,temp_id:s})},className:"navigation__item"},t),r.a.createElement("i",{onClick:function(e){c(n,s)},className:"fas fa-trash-alt"})))})),J=Object(m.b)(function(e){return{loginData:e.loginData}},{addList:function(e){return{type:"ADD_LIST",payload:{list:e}}},deleteList:function(e){return{type:"DELETE_LIST",payload:{tasksLists:e}}}})(function(e){var t=e.loginData.lists,a=e.loginData.user,n=a.avatar,s=a.name,c=function(){var t=Object(i.a)(l.a.mark(function t(a,n){var r,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token")?localStorage.getItem("token"):sessionStorage.getItem("token"),t.prev=1,t.next=4,p.delete("/lists/".concat(a),{headers:{Authorization:"Bearer ".concat(r)}});case 4:return t.sent,t.next=7,p.get("/lists",{headers:{Authorization:"Bearer ".concat(r)}});case 7:s=t.sent,e.deleteList(s.data),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e,a){return t.apply(this,arguments)}}(),o=t.map(function(e){return r.a.createElement(Y,{handleRemove:c,key:e._id,listId:e._id,tittle:e.tittle,temp_id:e.temp_id})}),u=function(){var t=Object(i.a)(l.a.mark(function t(a){var n,r,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token")?localStorage.getItem("token"):sessionStorage.getItem("token"),r={tittle:"Nowa Lista",description:"opis",temp_id:(new Date).getTime()},t.prev=2,t.next=5,p.post("/lists",r,{headers:{Authorization:"Bearer ".concat(n)}});case 5:s=t.sent,e.addList(s.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"main__navigaction"},r.a.createElement(E.c,{to:"user",className:"navigaction__user--wrapper"},r.a.createElement("div",{className:"navigaction__user"},r.a.createElement("img",{className:"navigation__thumbnail",src:"data:image/jpg;base64,".concat(n)}),r.a.createElement("p",{className:"navigation__username"},s))),r.a.createElement("button",{onClick:u,className:"btn nav-btn--add"},"Add"),r.a.createElement("ul",{className:"navigaction__list"},o))}),$=function(e){return r.a.createElement("div",null)},q=Object(m.b)(function(e){return{}})(function(e){return r.a.createElement("div",{className:"main-wraper"},r.a.createElement(E.a,{basename:"/Task-Manager-New-Version"},r.a.createElement(J,null),r.a.createElement(H,null)),r.a.createElement($,null))}),Q=(a(88),function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=3;break}return e.abrupt("return",g(t));case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),X=Object(m.b)(function(e){return console.log(e),{isLogged:e.loginData.isLogged}},{setDataOnInit:function(e){return{type:"USER_REMEMBERED",payload:{user:e.user,tasks:e.tasks,lists:e.tasksLists,status:e.status,isLogged:!0}}}})(function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),s=a[0],c=a[1];return Object(n.useEffect)(function(){function t(){return(t=Object(i.a)(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,Q();case 3:a=t.sent,e.setDataOnInit(a),c(!1);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}localStorage.getItem("token")&&function(){t.apply(this,arguments)}()},[]),r.a.createElement("div",{className:"App"},s?r.a.createElement(b,null):r.a.createElement(r.a.Fragment,null,e.isLogged?r.a.createElement(q,null):r.a.createElement(D,null),r.a.createElement(z,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(15),te=a(40);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach(function(t){Object(te.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=ne({},e);switch(t.type){case"USER_LOGIN":case"USER_REMEMBERED":return t.payload;case"UPDATE_TASK":var n=t.payload,r=n.name,s=n.description,c=n.index;return a.tasks[c].name=r,a.tasks[c].description=s,a;case"UPDATE_TASK_STAGE":var o=t.payload,l=o.i,i=o.stage;return a.tasks[l].stage=i,a;case"DELETE_TASK":var u=t.payload,m=u.i,d=u.id,p=u.isDeleted,g=ne({},e);return p?(g.tasks.splice(m,1),g):{error:{message:"error when trying to delete task from serwer",taskId:d}};case"ADD_TASK":var f=t.payload.task;return a.tasks.push(f),a;case"ADD_LIST":var E=t.payload.list;return a.lists.push(E),a;case"DELETE_LIST":console.log("Dzia\u0142a deleteList REducer");var v=t.payload.tasksLists;return a.lists=v,a;default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{registrationStatus:"waiting"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER":return t.payload;default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_LIST":return t.payload;default:return e}},oe=Object(ee.c)({loginData:re,registrationStatus:se,activeList:ce}),le=a(41),ie=Object(ee.d)(oe,Object(ee.a)(le.a));c.a.render(r.a.createElement(m.a,{store:ie},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.aa908bed.chunk.js.map